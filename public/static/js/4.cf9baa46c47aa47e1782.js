webpackJsonp([4],{506:function(e,t,a){a(634);var o=a(181)(a(563),a(678),"data-v-449b2276",null);e.exports=o.exports},509:function(e,t,a){e.exports={default:a(512),__esModule:!0}},510:function(e,t){t.f={}.propertyIsEnumerable},511:function(e,t){t.f=Object.getOwnPropertySymbols},512:function(e,t,a){a(514),e.exports=a(47).Object.assign},513:function(e,t,a){"use strict";var o=a(184),i=a(511),r=a(510),n=a(185),l=a(186),s=Object.assign;e.exports=!s||a(124)(function(){var e={},t={},a=Symbol(),o="abcdefghijklmnopqrst";return e[a]=7,o.split("").forEach(function(e){t[e]=e}),7!=s({},e)[a]||Object.keys(s({},t)).join("")!=o})?function(e,t){for(var a=n(e),s=arguments.length,d=1,m=i.f,c=r.f;s>d;)for(var u,p=l(arguments[d++]),g=m?o(p).concat(m(p)):o(p),f=g.length,h=0;f>h;)c.call(p,u=g[h++])&&(a[u]=p[u]);return a}:s},514:function(e,t,a){var o=a(79);o(o.S+o.F,"Object",{assign:a(513)})},515:function(e,t,a){"use strict";t.__esModule=!0;var o=a(509),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}},516:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(509),i=a.n(o),r=(a(183),a(182));t.default={data:function(){return{searchContent:{},total:"",pageNow:1,rows:10}},created:function(){this.initData({page:1,rows:10}),this.searchContent=i()({},this.searchData)},watch:{searchData:{handler:function(e,t){this.searchContent=i()({},this.searchData),this.searchContent.rows=this.rows,1==this.pageNow?this.initData(this.searchContent):this.pageNow=1},deep:!0},reload:function(){1==this.pageNow?this.initData(this.searchContent):this.pageNow=1}},methods:{initData:function(e){var t=this;a.i(r.c)(this,e,this.url,function(e){e.data.message?(t.total=0,t.$emit("tableContent",[])):(t.total=e.data.total,t.$emit("tableContent",e.data.rows))})},handleSizeChange:function(e){this.searchContent.rows=e,this.rows=e,this.initData(this.searchContent)},handleCurrentChange:function(e){this.searchContent.page=e,this.initData(this.searchContent)}},props:["searchData","url","reload"]}},517:function(e,t,a){t=e.exports=a(480)(!1),t.push([e.i,"",""])},518:function(e,t,a){var o=a(517);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(481)("6f170d66",o,!0)},519:function(e,t,a){a(518);var o=a(181)(a(516),a(520),"data-v-d3b730f0",null);e.exports=o.exports},520:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-pagination",{ref:"pagination",attrs:{total:parseInt(e.total),layout:"total, sizes, prev, pager, next, jumper","current-page":e.pageNow},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.pageNow=t}}})},staticRenderFns:[]}},521:function(e,t,a){e.exports={default:a(522),__esModule:!0}},522:function(e,t,a){var o=a(47),i=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},563:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(515),i=a.n(o),r=a(521),n=a.n(r),l=a(182),s=a(183),d=a(519),m=a.n(d);t.default={data:function(){return{url:"/aas/admin/termitemno/query.do",tableData:[],buttonData:[],tableHeight:"",reload:!1,termType:"",itemNo:"",searchData:{page:1,rows:10,termType:"",itemNo:""},addLoading:!1,addVisiable:!1,addForm:{addtermType:"",additemNo:"",addtermCode:"",addunionHardVersion:"",addtermFlag:"01"},editVisiable:!1,editLoading:!1,editForm:{edittermType:"",edititemNo:"",edittermFlag:""},termTypeList:[],itemNoList:[],rules:{addtermType:[{required:!0,trigger:"change",message:"请选择终端类型"}],additemNo:[{required:!0,trigger:"blur",message:"请输入终端型号"},{max:8,message:"输入字符长度不超过8个",trigger:"blur"},{validator:function(e,t,a){0==!/\W/.test(t)?a(new Error("请输入英文字母或正数")):a()},trigger:"blur"}],addtermCode:[{required:!0,trigger:"blur",message:"请输入终端编码"},{validator:function(e,t,a){2!=t.length?a(new Error("终端编码只能是两个字符")):a()},trigger:"blur"}],addunionHardVersion:[{max:15,message:"输入字符长度不超过15个",trigger:"blur"},{validator:function(e,t,a){0==/^\S*$/.test(t)?a(new Error("不能包含空格")):a()},trigger:"blur"},{validator:function(e,t,a){t&&0==/^[A-Za-z0-9\.\-\_\/]+$/.test(t)?a(new Error("只能包含数字字母或‘.’、‘/’、‘-’、‘_’")):a()},trigger:"blur"}],addtermFlag:[{required:!0,trigger:"change",message:"请选择21号文件支持状态"}],edittermType:[{required:!0,trigger:"change",message:"请选择终端类型"}],edititemNo:[{required:!0,trigger:"change",message:"请选择终端型号"}],edittermFlag:[{required:!0,trigger:"change",message:"请选择支持状态"}]}}},created:function(){var e=this;this.tableHeight=document.documentElement.clientHeight-160,window.onresize=function(){e.tableHeight=document.documentElement.clientHeight-160},a.i(l.a)(this,{},"/aas/admin/termitemno/queryTermType.do",function(t){for(var a=n()(t.data),o=a.substring(1,a.length-1).split(","),i=[],r=0;r<o.length;r++){var l={},s=o[r].substring(1,o[r].length-1).split(":");l.typeCode=s[0].substring(0,s[0].length-1),l.typeName=s[1].substring(1,s[1].length),i.push(l)}e.termTypeList=i});var t="";if(window.localStorage){t=window.localStorage.getItem("popedoms")}else t=localStorage.getItem("popedoms");if(this.buttonData=[],t)for(var o=JSON.parse(t),i=o.length,r=0;r<i;r++)9==o[r].popedomButton&&this.buttonData.push(o[r])},computed:i()({},a.i(s.b)(["popedomList"])),methods:i()({},a.i(s.c)(["getPopedom"]),{tableContent:function(e){this.tableData=e||[]},search:function(){for(var e in this.searchData)"page"==e&&"rows"==e||(this.searchData[e]=this[e]);this.searchData.page=1,this.searchData.rows=10},reset:function(){this.termType="",this.itemNo=""},getItemNo:function(e){var t=this;a.i(l.a)(this,{},"/aas/admin/termitemno/queryByType.do?termType="+e,function(e){"没有权限"==e.data.message?t.$notify.warning({title:"消息",message:"没有权限"}):t.itemNoList=e.data}),this.editForm.edititemNo=""},buttonClick:function(e,t,a){var o=this;switch(e){case"openAddDialog()":o.openAddDialog();break;case"openEditStatusDialog()":o.openEditStatusDialog();break;case"openDERDownloadDialog()":o.openDERDownloadDialog(a);break;case"openCRTDownloadDialog()":o.openCRTDownloadDialog(a)}},openAddDialog:function(){this.$refs.addForm&&this.$refs.addForm.resetFields(),this.addLoading=!1,this.addVisiable=!0},addTermType:function(){var e=this;this.$refs.addForm.validate(function(t){if(!t)return!1;e.addLoading=!0;var o={};for(var i in e.addForm)o[i.substring(3)]=e.addForm[i];a.i(l.b)(e,o,"/aas/admin/termitemno/add.do",function(t){t.data&&t.data.type&&(e.addVisiable=!1,e.$message({message:"添加成功",type:"success"}),e.reload=!e.reload),e.addLoading=!1})})},openEditStatusDialog:function(){this.$refs.editForm&&this.$refs.editForm.resetFields(),this.editLoading=!1,this.editVisiable=!0},editStatus:function(){var e=this;this.$refs.editForm.validate(function(t){if(!t)return!1;e.editLoading=!0;var o={};o={itemNo:e.editForm.edititemNo,termFlag:e.editForm.edittermFlag},a.i(l.b)(e,o,"/aas/admin/termitemno/updateTermFlag.do",function(t){t.data&&t.data.type&&(e.editVisiable=!1,e.$message({message:"修改成功",type:"success"}),e.reload=!e.reload),e.editLoading=!1})})},openDERDownloadDialog:function(e){var t=this;a.i(l.b)(this,{},"/aas/testdownload/downloadDerTest.do?termType="+e.termType+"&itemNo="+e.itemNo,function(a){a.data&&a.data.type&&(window.open("/aas/admin/termitemno/downloadDer.do?termType="+e.termType+"&itemNo="+e.itemNo),t.reload=!t.reload)})},openCRTDownloadDialog:function(e){var t=this;a.i(l.b)(this,{},"/aas/testdownload/downloadCrtTest.do?termType="+e.termType+"&itemNo="+e.itemNo,function(a){a.data&&a.data.type&&(window.open("/aas/admin/termitemno/downloadCrt.do?termType="+e.termType+"&itemNo="+e.itemNo),t.reload=!t.reload)})}}),components:{pagerows:m.a}}},605:function(e,t,a){t=e.exports=a(480)(!1),t.push([e.i,".operatorPage[data-v-449b2276]{height:100%}.search .el-select[data-v-449b2276]{width:160px}.iconfont[data-v-449b2276]{font-size:16px;margin-right:4px}.el-alert[data-v-449b2276]{margin-bottom:15px}",""])},634:function(e,t,a){var o=a(605);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(481)("52973826",o,!0)},678:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"operatorPage page"},[a("section",{staticClass:"search"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"终端类型"}},[a("el-select",{attrs:{size:"small"},model:{value:e.termType,callback:function(t){e.termType=t},expression:"termType"}},e._l(e.termTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e.typeName,value:e.typeCode}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"终端型号"}},[a("el-input",{attrs:{size:"small",placeholder:"输入终端型号"},model:{value:e.itemNo,callback:function(t){e.itemNo=t},expression:"itemNo"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",icon:"search",type:"primary"},on:{click:function(t){e.search()}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{size:"small",icon:"circle-close",type:"primary"},on:{click:function(t){e.reset()}}},[e._v("重置")]),e._v(" "),e._l(e.buttonData,function(t,o){return e.buttonData.length?[101062!=t.popedomId&&101063!=t.popedomId?a("el-button",{key:o,attrs:{size:"small",type:"primary"},on:{click:function(a){a.stopPropagation(),e.buttonClick(t.buttonLink)}}},[a("i",{staticClass:"iconfont",class:t.iconLink}),e._v(e._s(t.popedomName))]):e._e()]:e._e()})],2)],1)],1),e._v(" "),a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",height:e.tableHeight,border:"",stripe:"",data:e.tableData}},[a("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:"终端类型",prop:"termTypeName","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:"终端型号",prop:"itemNo","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:"终端编码",prop:"termCode","min-width":"130"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"termFlagName",label:"21号文件","min-width":"130","filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.termFlagName?a("el-tag",{attrs:{type:"支持"===t.row.termFlagName?"success":"danger","close-transition":""}},[e._v(e._s(t.row.termFlagName))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:"银联硬件版本",prop:"unionHardVersion","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:"创建时间","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-icon",{attrs:{name:"time"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createDatetime))])]}}])})],1),e._v(" "),a("pagerows",{attrs:{searchData:e.searchData,url:e.url,reload:e.reload},on:{tableContent:e.tableContent}}),e._v(" "),a("el-dialog",{attrs:{size:"tiny",title:"型号添加",visible:e.addVisiable,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addVisiable=t}}},[a("el-alert",{attrs:{title:"点击提交后系统响应时间可能会比较长，请耐心等待！",type:"info","show-icon":""}}),e._v(" "),a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"110px"}},[a("el-form-item",{attrs:{prop:"addtermType",label:"终端类型"}},[a("el-select",{model:{value:e.addForm.addtermType,callback:function(t){e.addForm.addtermType=t},expression:"addForm.addtermType"}},e._l(e.termTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e.typeName,value:e.typeCode}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"additemNo",label:"终端型号"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.additemNo,callback:function(t){e.addForm.additemNo=t},expression:"addForm.additemNo"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"addtermCode",label:"终端编码"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.addtermCode,callback:function(t){e.addForm.addtermCode=t},expression:"addForm.addtermCode"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"addunionHardVersion",label:"银联硬件版本"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.addunionHardVersion,callback:function(t){e.addForm.addunionHardVersion=t},expression:"addForm.addunionHardVersion"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"addtermFlag",label:"21号文件"}},[a("el-radio-group",{model:{value:e.addForm.addtermFlag,callback:function(t){e.addForm.addtermFlag=t},expression:"addForm.addtermFlag"}},[a("el-radio",{attrs:{label:"01"}},[e._v("支持")]),e._v(" "),a("el-radio",{attrs:{label:"00"}},[e._v("不支持")])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.addLoading},on:{click:function(t){e.addTermType()}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.addVisiable=!1}}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{size:"tiny",title:"修改支持状态",visible:e.editVisiable,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editVisiable=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"edittermType",label:"终端类型"}},[a("el-select",{on:{change:e.getItemNo},model:{value:e.editForm.edittermType,callback:function(t){e.editForm.edittermType=t},expression:"editForm.edittermType"}},e._l(e.termTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e.typeName,value:e.typeCode}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"edititemNo",label:"终端型号"}},[a("el-select",{model:{value:e.editForm.edititemNo,callback:function(t){e.editForm.edititemNo=t},expression:"editForm.edititemNo"}},e._l(e.itemNoList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"edittermFlag",label:"21号文件"}},[a("el-radio-group",{model:{value:e.editForm.edittermFlag,callback:function(t){e.editForm.edittermFlag=t},expression:"editForm.edittermFlag"}},[a("el-radio",{attrs:{label:"01"}},[e._v("支持")]),e._v(" "),a("el-radio",{attrs:{label:"00"}},[e._v("不支持")])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.editLoading},on:{click:function(t){e.editStatus()}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.editVisiable=!1}}},[e._v("取 消")])],1)],1)],1)},staticRenderFns:[]}}});